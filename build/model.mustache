const assign = require('../util/assign');

module.exports = request => {

	const {{className}} = {
		name: '{{className}}',
		path: '{{{pathName}}}',
		{{#apis}}
		{{method}}: function() {
			return request(assign({{className}}._{{method}}(), { args: Array.prototype.slice.call(arguments) }));
		},
		{{/apis}}
	};

	{{#apis}}
	{{className}}._{{method}} = function() {

		return {
			modelName:      {{className}}.name,
			methodName:     '{{method}}',
			httpMethod:     '{{httpMethod}}',
			path:           '{{{path}}}',
			params:         [{{#arguments}}'{{{.}}}', {{/arguments}}],
{{#usesFormData}}			usesFormData:   {{usesFormData}},
{{/usesFormData}}{{#withoutPayload}}			withoutPayload: {{withoutPayload}},
{{/withoutPayload}}
		};

	};

	{{/apis}}
	return {{className}};

};